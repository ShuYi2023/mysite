<p><strong>Ubuntu in Virtual Box</strong></p><p><strong>Ubuntu服务器版的下载地址</strong></p><ul><li>√下载地址: http://releases.ubuntu.com/22.04/</li><li>也可以用桌面版本: </li></ul><p><strong>安装Ubuntu注意事项</strong></p><ul><li>√不用要Uattended模式. 偏要用的话, 会没有admin的权限.</li></ul><p><img src="1.png" /></p><ul><li>√个人用于实验的话, √4核4G就可以了, √硬盘用25G也可以了.</li></ul><p><img src="2.png" /></p><ul><li>配置摘要如下:</li></ul><p><img src="3.png" /></p><ul><li>√配置好网络.</li></ul><p><img src="4.png" /></p><p><strong>在 MacBook 用 ssh 访问服务器</strong></p><p><strong>服务器连接 Wifi</strong></p><ul><li>编辑配置文件</li></ul><table><tr><td><p>Bash<br />ip a  # 查看网络的名称<br />sudo su # 获得 root 权限<br />cd /etc/netplan/ # 进入相关目录<br />ls  # 查看目录下的文件<br />nano 00-installer-config-wifi.yaml</p></td></tr></table><ul><li>配置文件内容↓</li></ul><table><tr><td><p>Bash<br /># This is the network config written by 'max'<br />network:<br />  wifis:<br />    wlp4s0:<br />      dhcp4: no  # 不自动分配网址<br />      dhcp6: no<br />      addresses: [192.168.0.244/24]  # 设置静态网址<br />      gateway4: 192.168.0.1  # 网关<br />      nameservers:  # 域名服务器<br />        addresses: [114.114.114.114, 9.9.9.9, 8.8.8.8]<br />      access-points:<br />        &quot;max_tp_mesh&quot;:<br />          password: &quot;gwdkpvgj&quot;<br />  version: 2  # 必须是 version 2</p></td></tr></table><ul><li>启动服务.</li></ul><table><tr><td><p>Bash<br />sudo netplan generate<br />sudo netplan apply</p></td></tr></table><p><strong>获得服务器的 ip 地址</strong></p><ul><li>在服务器中运行命令: ip a</li></ul><p><strong>√用下图的ssh方式访问</strong></p><p><img src="5.png" /></p><p><strong>修改文件名: </strong></p><ul><li>sudo mv former_name new_name</li></ul><p><strong>修改文件的 owner</strong></p><ul><li>chown owner_name file_name</li><li>sudo chown max 00-installer-config-wifi.yaml </li></ul><p><strong>获得root权限</strong></p><ul><li>sudo su # 用于移动文件</li></ul><p><strong>移动文件</strong></p><ul><li>sudo path new-path</li></ul><p><strong>查看电量: </strong></p><ul><li>upower --dump | grep --color=never -E &quot;state|to\ full|to\ empty|percentage&quot;</li></ul><p><strong>合盖不休眠的设置</strong></p><ul><li>sudo nano /etc/systemd/logind.conf</li></ul><table><tr><td><p>Bash<br /># See logind.conf(5) for details.<br /><br />[Login]<br />#HandleHibernateKey=hibernate<br />#HandleLidSwitch=suspend<br />HandleLidSwitch=ignore<br />#HandleLidSwitchExternalPower=suspend</p></td></tr></table><p><strong>安装 venv</strong></p><ul><li>sudo apt install python3.10-venv -y</li></ul><p><strong>创建虚拟环境</strong></p><table><tr><td><p>Bash<br />max@ubserver:~$ mkdir envs<br />max@ubserver:~$ cd envs<br />max@ubserver:~/envs$ python3 -m venv dj<br />max@ubserver:~/envs$ ls dj<br />bin  include  lib  lib64  pyvenv.cfg  share<br />max@ubserver:~/<strong>envs$ source /home/max/envs/dj4/bin/activate  # 激活虚拟环境</strong><br />(dj) max@ubserver:~/envs$ <br />pip install -i https://pypi.tuna.tsinghua.edu.cn/simple django # 安装 Django<br />(dj) max@ubserver:~$ python -m  django --version # 查看 Django 版本<br />3.2.16<br />(dj) max@ubserver:~$ ls / # 查看根目录<br />cd ~ # 到用户的 home, 相当于 /home/max</p></td></tr></table><p><strong>激活虚拟环境</strong></p><p><strong>source /home/max/envs/dj4/bin/activate</strong></p><p><strong>重新启动</strong></p><p>reboot # 然后要等一分钟才会真正 reboot</p><p><strong>退出登录状态:</strong></p><p>logout</p><p><strong>设置时区</strong></p><p>timedatectl set-timezone Asia/Shanghai</p><p>date</p><p><strong>上传文件夹到服务器</strong></p><ul><li>开 sftp 窗口: 在终端输入命令: sftp max@192.168.0.xxx</li><li>上传文件夹: 一定要有 -r (recursive)参数, 目标文件夹是 /home/max/, 不是/home/max<s>/mysite</s></li></ul><table><tr><td><p>Bash<br /># 上传文件夹: <br />put -r /Users/maxmacboookpro2019/my_projs/10django_prjs/mysite/ /home/max/</p></td></tr></table><p><strong>从局域网的另一台电脑访问 Django服务器</strong></p><ul><li>√在 setting.py 中设置好 ALLOWED_HOSTS = ['*', 'localhost', '127.0.0.1', '192.168.0.244']</li><li>√把修改好的配置文件上传到服务器</li><li>√启动服务器, 注意绿色的部分--要给定 ip 和端口 : </li><li>(dj4) <strong>max@u22</strong>:<strong>~/mysite</strong>$ python manage.py runserver 0.0.0.0:8000</li></ul>